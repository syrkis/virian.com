<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" href="%sveltekit.assets%/favicon.png" />
        <meta name="viewport" content="width=device-width" />
        <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
        <!--<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" async></script>-->
        <link
            rel="stylesheet"
            href="https://use.fontawesome.com/releases/v5.0.8/css/all.css"
            integrity="sha384-3AB7yXWz4OeoZcPbieVW64vVXEwADiYyAEhwilzWsLw+9FgqpyjjStpPnpBO8o8S"
            crossorigin="anonymous"
            key="fontawesome"
        />
        %sveltekit.head%
        <!-- <script async="" defer="" src="https://virian.dotmethod.me/js/script.js"></script> -->
        <!--<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.min.js" async></script>
        <!-- Preloading font using CSS Font Loading API -->
        <script>
            if ("fonts" in document) {
                document.fonts.load('1em "Latin Modern Roman"').then(function () {
                    document.documentElement.classList.add("lmweb-font-loaded");
                });
            } else {
                document.documentElement.classList.add("lmweb-font-loaded");
            }
        </script>

        <!-- Adding the font from Google -->
        <link
            rel="stylesheet"
            href="https://lalten.github.io/lmweb/style/latinmodern-roman.css"
            type="text/css"
            charset="utf-8"
        />

        <!-- Loading CSS for the font -->
        <style>
            body {
                font-family: serif;
            }
            .lmweb-font-loaded body {
                font-family: "Latin Modern Roman", serif;
            }
        </style>
    </head>
    <body>
        <div>%sveltekit.body%</div>
        <script>
            if (window.netlifyIdentity) {
                window.netlifyIdentity.on("init", (user) => {
                    if (!user) {
                        window.netlifyIdentity.on("login", () => {
                            document.location.href = "/admin/";
                        });
                    }
                });
            }
        </script>
    </body>
</html>
